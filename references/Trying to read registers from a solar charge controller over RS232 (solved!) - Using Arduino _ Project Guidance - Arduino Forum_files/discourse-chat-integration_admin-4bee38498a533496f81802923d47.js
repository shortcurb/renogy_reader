define("discourse/plugins/discourse-chat-integration/admin/adapters/channel",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.default)("chat-integration")})),define("discourse/plugins/discourse-chat-integration/admin/adapters/provider",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.default)("chat-integration")})),define("discourse/plugins/discourse-chat-integration/admin/adapters/rule",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.default)("chat-integration")})),define("discourse/plugins/discourse-chat-integration/admin/chat-integration-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={resource:"admin.adminPlugins",path:"/plugins",map(){this.route("chat-integration",(function(){this.route("provider",{path:"/:provider"})}))}}})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-data",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=(0,i.createTemplateFactory)({id:"EffeZzcI",block:'[[[42,[28,[37,1],[[28,[37,1],[[30,1,["channel_parameters"]]],null]],null],null,[[[41,[51,[30,2,["hidden"]]],[[[1,"    "],[10,0],[14,0,"channel-info"],[12],[1,"\\n      "],[10,1],[14,0,"field-name"],[12],[1,"\\n        "],[1,[28,[35,3],[[28,[37,4],["chat_integration.provider.",[30,3,["provider"]],".param.",[30,2,["key"]],".title"],null]],null]],[1,":\\n      "],[13],[1,"\\n      "],[10,1],[14,0,"field-value"],[12],[1,[28,[35,5],[[30,3,["data"]],[30,2,["key"]]],null]],[13],[1,"\\n      "],[10,"br"],[12],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],[2]],null]],["@provider","param","@channel"],false,["each","-track-array","unless","i18n","concat","get"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/channel-data.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(a,(0,n.default)())})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-details",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","discourse/lib/ajax-error","I18n","@ember/template-factory"],(function(e,t,n,i,a,r,l,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=(0,o.createTemplateFactory)({id:"e2skFVgu",block:'[[[10,0],[14,0,"channel-details"],[12],[1,"\\n  "],[10,0],[14,0,"channel-header"],[12],[1,"\\n    "],[10,0],[14,0,"pull-right"],[12],[1,"\\n      "],[8,[39,0],null,[["@icon","@title","@label","@action"],["pencil-alt","chat_integration.edit_channel","chat_integration.edit_channel",[28,[37,1],[[30,1],[30,2]],null]]],null],[1,"\\n\\n      "],[8,[39,0],[[24,0,"btn-chat-test"]],[["@icon","@title","@label","@action"],["rocket","chat_integration.test_channel","chat_integration.test_channel",[28,[37,1],[[30,3],[30,2]],null]]],null],[1,"\\n\\n      "],[8,[39,0],[[24,0,"cancel delete-channel"]],[["@icon","@title","@label","@action"],["trash-alt","chat_integration.delete_channel","chat_integration.delete_channel",[28,[37,1],[[30,0,["deleteChannel"]],[30,2]],null]]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,1],[14,0,"channel-title"],[12],[1,"\\n"],[41,[30,2,["error_key"]],[[[1,"        "],[8,[39,0],[[24,0,"delete btn-danger"]],[["@icon","@action"],["exclamation-triangle",[28,[37,1],[[30,4],[30,2]],null]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[8,[39,3],null,[["@provider","@channel"],[[30,5],[30,2]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"channel-body"],[12],[1,"\\n    "],[10,"table"],[12],[1,"\\n      "],[10,"thead"],[12],[1,"\\n        "],[10,"tr"],[12],[1,"\\n          "],[10,"th"],[12],[1,[28,[35,4],["chat_integration.rule_table.filter"],null]],[13],[1,"\\n          "],[10,"th"],[12],[1,[28,[35,4],["chat_integration.rule_table.category"],null]],[13],[1,"\\n\\n"],[41,[30,0,["siteSettings","tagging_enabled"]],[[[1,"            "],[10,"th"],[12],[1,[28,[35,4],["chat_integration.rule_table.tags"],null]],[13],[1,"\\n"]],[]],null],[1,"\\n          "],[10,"th"],[12],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,"tbody"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,2,["rules"]]],null]],null],null,[[[1,"          "],[8,[39,7],null,[["@rule","@edit","@refresh"],[[30,6],[28,[37,1],[[30,7],[30,6],[30,2]],null],[30,8]]],null],[1,"\\n"]],[6]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"channel-footer"],[12],[1,"\\n    "],[10,0],[14,0,"pull-right"],[12],[1,"\\n      "],[8,[39,0],null,[["@icon","@title","@label","@action"],["plus","chat_integration.create_rule","chat_integration.create_rule",[28,[37,1],[[30,9],[30,2]],null]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@editChannel","@channel","@test","@showError","@provider","rule","@editRuleWithChannel","@refresh","@createRule"],false,["d-button","fn","if","channel-data","i18n","each","-track-array","rule-row"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/channel-details.hbs",isStrictMode:!1})
class d extends n.default{static#e=(()=>dt7948.g(this.prototype,"dialog",[a.inject]))()
#t=(()=>{dt7948.i(this,"dialog")})()
static#n=(()=>dt7948.g(this.prototype,"siteSettings",[a.inject]))()
#i=(()=>{dt7948.i(this,"siteSettings")})()
deleteChannel(e){this.dialog.deleteConfirm({message:l.default.t("chat_integration.channel_delete_confirm"),didConfirm:()=>e.destroyRecord().then((()=>this.args.refresh())).catch(r.popupAjaxError)})}static#a=(()=>dt7948.n(this.prototype,"deleteChannel",[i.action]))()}e.default=d,(0,t.setComponentTemplate)(s,d)})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-param-row",["exports","@ember/component","@glimmer/component","@ember/object","I18n","@ember/template-factory"],(function(e,t,n,i,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=(0,r.createTemplateFactory)({id:"dK7kW2IQ",block:'[[[10,"tr"],[14,0,"input"],[12],[1,"\\n  "],[10,"td"],[14,0,"label"],[12],[1,"\\n    "],[10,"label"],[15,"for",[29,["param-",[30,1,["key"]]]]],[12],[1,"\\n      "],[1,[28,[35,0],[[28,[37,1],["chat_integration.provider.",[30,2,["provider"]],".param.",[30,1,["key"]],".title"],null]],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,"td"],[12],[1,"\\n    "],[11,"input"],[16,2,[28,[37,2],[[30,2,["data"]],[30,1,["key"]]],null]],[16,3,[29,["param-",[30,1,["key"]]]]],[24,4,"text"],[4,[38,3],["input",[30,0,["updateValue"]]],null],[12],[13],[1,"\\n\\n    "],[8,[39,4],null,[["@validation"],[[30,0,["validation"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n  "],[10,"td"],[12],[13],[1,"\\n  "],[10,"td"],[12],[1,"\\n    "],[10,"label"],[12],[1,"\\n      "],[1,[28,[35,0],[[28,[37,1],["chat_integration.provider.",[30,2,["provider"]],".param.",[30,1,["key"]],".help"],null]],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@param","@channel"],false,["i18n","concat","get","on","input-tip"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/channel-param-row.hbs",isStrictMode:!1})
class o extends n.default{get validation(){const e=this.args.channel.get(`data.${this.args.param.key}`)
return e?.trim()?this.args.param.regex?new RegExp(this.args.param.regex).test(e)?{ok:!0,reason:a.default.t("chat_integration.edit_channel_modal.channel_validation.ok")}:{failed:!0,reason:a.default.t("chat_integration.edit_channel_modal.channel_validation.fail")}:{ok:!0}:{failed:!0}}updateValue(e){this.args.channel.set(`data.${this.args.param.key}`,e.target.value)}static#e=(()=>dt7948.n(this.prototype,"updateValue",[i.action]))()}e.default=o,(0,t.setComponentTemplate)(l,o)})),define("discourse/plugins/discourse-chat-integration/admin/components/modal/channel-error",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=(0,i.createTemplateFactory)({id:"CkqlmK7A",block:'[[[8,[39,0],[[24,1,"chat_integration_error_modal"]],[["@closeModal"],[[30,1]]],[["default"],[[[[1,"\\n  "],[10,"h4"],[12],[1,[28,[35,1],[[30,2,["error_key"]]],null]],[13],[1,"\\n  "],[10,"pre"],[12],[1,[30,2,["error_info"]]],[13],[1,"\\n"]],[]]]]]],["@closeModal","@model"],false,["d-modal","i18n"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/modal/channel-error.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(a,(0,n.default)())})),define("discourse/plugins/discourse-chat-integration/admin/components/modal/edit-channel",["exports","@ember/component","@glimmer/component","@ember/object","discourse/lib/ajax-error","@ember/template-factory"],(function(e,t,n,i,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=(0,r.createTemplateFactory)({id:"r/eEGRCv",block:'[[[8,[39,0],[[24,1,"chat-integration-edit-channel-modal"],[4,[38,2],["submit",[30,0,["save"]]],null]],[["@title","@closeModal","@tagName"],[[28,[37,1],["chat_integration.edit_channel_modal.title"],null],[30,1],"form"]],[["body","footer"],[[[[1,"\\n    "],[10,"table"],[12],[1,"\\n      "],[10,"tbody"],[12],[1,"\\n        "],[10,"tr"],[14,0,"input"],[12],[1,"\\n          "],[10,"td"],[14,0,"label"],[12],[1,"\\n            "],[10,"label"],[14,"for","provider"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.edit_channel_modal.provider"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[1,[28,[35,1],[[28,[37,3],["chat_integration.provider.",[30,2,["channel","provider"]],".title"],null]],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n        "],[13],[1,"\\n\\n"],[42,[28,[37,5],[[28,[37,5],[[30,2,["provider","channel_parameters"]]],null]],null],null,[[[1,"          "],[8,[39,6],null,[["@param","@channel"],[[30,3],[30,2,["channel"]]]],null],[1,"\\n"]],[3]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]],[[[1,"\\n    "],[8,[39,7],[[24,1,"save-channel"],[24,0,"btn-primary btn-large"],[24,4,"submit"]],[["@action","@label","@disabled"],[[30,0,["save"]],"chat_integration.edit_channel_modal.save",[28,[37,8],[[30,0,["validParams"]]],null]]],null],[1,"\\n\\n    "],[8,[39,7],[[24,0,"btn-large"]],[["@action","@label"],[[30,1],"chat_integration.edit_channel_modal.cancel"]],null],[1,"\\n  "]],[]]]]]],["@closeModal","@model","param"],false,["d-modal","i18n","on","concat","each","-track-array","channel-param-row","d-button","not"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/modal/edit-channel.hbs",isStrictMode:!1})
class o extends n.default{get validParams(){return this.args.model.provider.channel_parameters.every((e=>{const t=this.args.model.channel.get(`data.${e.key}`)
return!!t?.trim()&&(!e.regex||new RegExp(e.regex).test(t))}))}async save(){try{await this.args.model.channel.save(),this.args.closeModal()}catch(e){(0,a.popupAjaxError)(e)}}static#e=(()=>dt7948.n(this.prototype,"save",[i.action]))()}e.default=o,(0,t.setComponentTemplate)(l,o)})),define("discourse/plugins/discourse-chat-integration/admin/components/modal/edit-rule",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","discourse/lib/ajax-error","@ember/template-factory"],(function(e,t,n,i,a,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=(0,l.createTemplateFactory)({id:"s9hhKOGm",block:'[[[8,[39,0],[[24,1,"chat-integration-edit-rule_modal"],[4,[38,2],["submit",[30,0,["save"]]],null]],[["@title","@closeModal","@tagName"],[[28,[37,1],["chat_integration.edit_rule_modal.title"],null],[30,1],"form"]],[["body","footer"],[[[[1,"\\n    "],[10,"table"],[12],[1,"\\n      "],[10,"tbody"],[12],[1,"\\n        "],[10,"tr"],[14,0,"input"],[12],[1,"\\n          "],[10,"td"],[14,0,"label"],[12],[1,"\\n            "],[10,"label"],[14,"for","provider"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.edit_rule_modal.provider"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[1,[28,[35,1],[[28,[37,3],["chat_integration.provider.",[30,2,["channel","provider"]],".title"],null]],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"input"],[12],[1,"\\n          "],[10,"td"],[14,0,"label"],[12],[1,"\\n            "],[10,"label"],[14,"for","channel"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.edit_rule_modal.channel"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[8,[39,4],null,[["@provider","@channel"],[[30,2,["provider"]],[30,2,["channel"]]]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"input"],[12],[1,"\\n          "],[10,"td"],[14,0,"label"],[12],[1,"\\n            "],[10,"label"],[14,"for","filter"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.edit_rule_modal.type"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[8,[39,5],null,[["@name","@content","@value","@onChange"],["type",[30,2,["rule","available_types"]],[30,2,["rule","type"]],[28,[37,6],[[28,[37,7],[[30,2,["rule","type"]]],null]],null]]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[10,"label"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.edit_rule_modal.instructions.type"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"input"],[12],[1,"\\n          "],[10,"td"],[14,0,"label"],[12],[1,"\\n            "],[10,"label"],[14,"for","filter"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.edit_rule_modal.filter"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[8,[39,5],null,[["@name","@content","@value","@onChange"],["filter",[30,2,["rule","available_filters"]],[30,2,["rule","filter"]],[28,[37,6],[[28,[37,7],[[30,2,["rule","filter"]]],null]],null]]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n          "],[10,"td"],[12],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[10,"label"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.edit_rule_modal.instructions.filter"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[28,[37,9],[[30,2,["rule","type"]],"normal"],null],[[[1,"          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","category"],[12],[1,"\\n                "],[1,[28,[35,1],["chat_integration.edit_rule_modal.category"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[8,[39,10],null,[["@name","@options","@value","@onChange"],["category",[28,[37,11],null,[["none"],["chat_integration.all_categories"]]],[30,2,["rule","category_id"]],[28,[37,6],[[28,[37,7],[[30,2,["rule","category_id"]]],null]],null]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[10,"label"],[12],[1,"\\n                "],[1,[28,[35,1],["chat_integration.edit_rule_modal.instructions.category"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","group"],[12],[1,"\\n                "],[1,[28,[35,1],["chat_integration.edit_rule_modal.group"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[8,[39,5],null,[["@content","@valueProperty","@value","@onChange","@options"],[[30,2,["groups"]],"id",[30,2,["rule","group_id"]],[28,[37,6],[[28,[37,7],[[30,2,["rule","group_id"]]],null]],null],[28,[37,11],null,[["none"],["chat_integration.choose_group"]]]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[10,"label"],[12],[1,"\\n                "],[1,[28,[35,1],["chat_integration.edit_rule_modal.instructions.group"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,0,["siteSettings","tagging_enabled"]],[[[1,"          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","tags"],[12],[1,"\\n                "],[1,[28,[35,1],["chat_integration.edit_rule_modal.tags"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[8,[39,12],null,[["@placeholderKey","@name","@tags","@everyTag","@onChange"],["chat_integration.all_tags","tags",[30,2,["rule","tags"]],"true",[28,[37,6],[[28,[37,7],[[30,2,["rule","tags"]]],null]],null]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[10,"label"],[12],[1,"\\n                "],[1,[28,[35,1],["chat_integration.edit_rule_modal.instructions.tags"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]],[[[1,"\\n    "],[8,[39,13],[[24,1,"save-rule"],[24,0,"btn-primary btn-large"],[24,4,"submit"]],[["@action","@label"],[[28,[37,6],[[30,0,["save"]],[30,2,["rule"]]],null],"chat_integration.edit_rule_modal.save"]],null],[1,"\\n\\n    "],[8,[39,13],[[24,0,"btn-large"]],[["@label","@action"],["chat_integration.edit_rule_modal.cancel",[30,1]]],null],[1,"\\n  "]],[]]]]]],["@closeModal","@model"],false,["d-modal","i18n","on","concat","channel-data","combo-box","fn","mut","if","eq","category-chooser","hash","tag-chooser","d-button"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/modal/edit-rule.hbs",isStrictMode:!1})
class s extends n.default{static#e=(()=>dt7948.g(this.prototype,"siteSettings",[a.inject]))()
#i=(()=>{dt7948.i(this,"siteSettings")})()
async save(e){try{await e.save(),this.args.closeModal()}catch(t){(0,r.popupAjaxError)(t)}}static#n=(()=>dt7948.n(this.prototype,"save",[i.action]))()}e.default=s,(0,t.setComponentTemplate)(o,s)})),define("discourse/plugins/discourse-chat-integration/admin/components/modal/test-integration",["exports","@ember/component","@glimmer/component","@glimmer/tracking","@ember/object","discourse/lib/ajax","discourse/lib/ajax-error","I18n","@ember/template-factory"],(function(e,t,n,i,a,r,l,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=(0,s.createTemplateFactory)({id:"VO8ZQcDX",block:'[[[8,[39,0],[[24,1,"chat_integration_test_modal"],[4,[38,2],["submit",[30,0,["send"]]],null]],[["@title","@closeModal","@flash","@flashType","@tagName"],[[28,[37,1],["chat_integration.test_modal.title"],null],[30,1],[30,0,["flash"]],"success","form"]],[["body","footer"],[[[[1,"\\n    "],[10,"table"],[12],[1,"\\n      "],[10,"tbody"],[12],[1,"\\n        "],[10,"tr"],[14,0,"input"],[12],[1,"\\n          "],[10,"td"],[14,0,"label"],[12],[1,"\\n            "],[10,"label"],[14,"for","channel"],[12],[1,"\\n              "],[1,[28,[35,1],["chat_integration.test_modal.topic"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"td"],[12],[1,"\\n            "],[8,[39,3],null,[["@topicChangedCallback"],[[30,0,["newTopicSelected"]]]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]],[[[1,"\\n    "],[8,[39,4],null,[["@condition"],[[30,0,["loading"]]]],[["default"],[[[[1,"\\n      "],[8,[39,5],[[24,1,"send-test"],[24,0,"btn-primary btn-large"],[24,4,"submit"]],[["@action","@label","@disabled"],[[30,0,["send"]],"chat_integration.test_modal.send",[28,[37,6],[[30,0,["topicId"]]],null]]],null],[1,"\\n      "],[8,[39,5],[[24,0,"btn-large"]],[["@action","@label"],[[30,1],"chat_integration.test_modal.close"]],null],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]]]],["@closeModal"],false,["d-modal","i18n","on","choose-topic","conditional-loading-spinner","d-button","not"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/modal/test-integration.hbs",isStrictMode:!1})
class c extends n.default{static#e=(()=>dt7948.g(this.prototype,"loading",[i.tracked],(function(){return!1})))()
#r=(()=>{dt7948.i(this,"loading")})()
static#n=(()=>dt7948.g(this.prototype,"flash",[i.tracked]))()
#l=(()=>{dt7948.i(this,"flash")})()
static#a=(()=>dt7948.g(this.prototype,"topicId",[i.tracked]))()
#o=(()=>{dt7948.i(this,"topicId")})()
async send(){this.loading=!0
try{await(0,r.ajax)("/admin/plugins/chat-integration/test",{data:{channel_id:this.args.model.channel.id,topic_id:this.topicId},type:"POST"}),this.loading=!1,this.flash=o.default.t("chat_integration.test_modal.success")}catch(e){(0,l.popupAjaxError)(e)}}static#s=(()=>dt7948.n(this.prototype,"send",[a.action]))()
newTopicSelected(e){this.topicId=e.id}static#d=(()=>dt7948.n(this.prototype,"newTopicSelected",[a.action]))()}e.default=c,(0,t.setComponentTemplate)(d,c)})),define("discourse/plugins/discourse-chat-integration/admin/components/rule-row",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","discourse/lib/ajax-error","@ember/template-factory"],(function(e,t,n,i,a,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=(0,l.createTemplateFactory)({id:"Uw2xDtLy",block:'[[[10,"tr"],[12],[1,"\\n  "],[10,"td"],[12],[1,"\\n    "],[1,[30,1,["filterName"]]],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,"td"],[12],[1,"\\n"],[41,[30,0,["isCategory"]],[[[41,[30,1,["category"]],[[[1,"        "],[1,[28,[35,1],[[30,1,["category"]]],[["allowUncategorized","link"],["true","false"]]]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,2],["chat_integration.all_categories"],null]],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["isMention"]],[[[1,"      "],[1,[28,[35,2],["chat_integration.group_mention_template"],[["name"],[[30,1,["group_name"]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["isMessage"]],[[[1,"      "],[1,[28,[35,2],["chat_integration.group_message_template"],[["name"],[[30,1,["group_name"]]]]]],[1,"\\n    "]],[]],null]],[]]]],[]]],[1,"  "],[13],[1,"\\n\\n  "],[10,"td"],[12],[1,"\\n"],[41,[30,0,["siteSettings","tagging_enabled"]],[[[41,[30,1,["tags"]],[[[1,"        "],[1,[30,1,["tags"]]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,2],["chat_integration.all_tags"],null]],[1,"\\n"]],[]]]],[]],null],[1,"  "],[13],[1,"\\n\\n  "],[10,"td"],[12],[1,"\\n    "],[8,[39,3],[[24,0,"edit"]],[["@icon","@title","@action"],["pencil-alt","chat_integration.rule_table.edit_rule",[28,[37,4],[[30,2],[30,1]],null]]],null],[1,"\\n\\n    "],[8,[39,3],[[24,0,"delete"]],[["@icon","@title","@action"],["far-trash-alt","chat_integration.rule_table.delete_rule",[28,[37,4],[[30,0,["delete"]],[30,1]],null]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@rule","@edit"],false,["if","category-link","i18n","d-button","fn"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/rule-row.hbs",isStrictMode:!1})
class s extends n.default{static#e=(()=>dt7948.g(this.prototype,"siteSettings",[a.inject]))()
#i=(()=>{dt7948.i(this,"siteSettings")})()
get isCategory(){return"normal"===this.args.rule.type}get isMessage(){return"group_message"===this.args.rule.type}get isMention(){return"group_mention"===this.args.rule.type}delete(e){e.destroyRecord().then((()=>this.args.refresh())).catch(r.popupAjaxError)}static#n=(()=>dt7948.n(this.prototype,"delete",[i.action]))()}e.default=s,(0,t.setComponentTemplate)(o,s)})),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat-integration-provider",["exports","@ember/controller","@ember/object","@ember/service","discourse/plugins/discourse-chat-integration/admin/components/modal/channel-error","discourse/plugins/discourse-chat-integration/admin/components/modal/edit-channel","discourse/plugins/discourse-chat-integration/admin/components/modal/edit-rule","discourse/plugins/discourse-chat-integration/admin/components/modal/test-integration"],(function(e,t,n,i,a,r,l,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class s extends t.default{static#e=(()=>dt7948.g(this.prototype,"modal",[i.inject]))()
#c=(()=>{dt7948.i(this,"modal")})()
static#n=(()=>dt7948.g(this.prototype,"store",[i.inject]))()
#u=(()=>{dt7948.i(this,"store")})()
get anyErrors(){let e=!1
return this.model.channels.forEach((t=>{t.error_key&&(e=!0)})),e}async triggerModal(e,t){await this.modal.show(e,{model:{...t,admin:!0}}),this.refresh()}createChannel(){return this.triggerModal(r.default,{channel:this.store.createRecord("channel",{provider:this.model.provider.id,data:{}}),provider:this.model.provider})}static#a=(()=>dt7948.n(this.prototype,"createChannel",[n.action]))()
editChannel(e){return this.triggerModal(r.default,{channel:e,provider:this.model.provider})}static#s=(()=>dt7948.n(this.prototype,"editChannel",[n.action]))()
testChannel(e){return this.triggerModal(o.default,{channel:e})}static#d=(()=>dt7948.n(this.prototype,"testChannel",[n.action]))()
createRule(e){return this.triggerModal(l.default,{rule:this.store.createRecord("rule",{channel_id:e.id,channel:e}),channel:e,provider:this.model.provider,groups:this.model.groups})}static#h=(()=>dt7948.n(this.prototype,"createRule",[n.action]))()
editRuleWithChannel(e,t){return this.triggerModal(l.default,{rule:e,channel:t,provider:this.model.provider,groups:this.model.groups})}static#p=(()=>dt7948.n(this.prototype,"editRuleWithChannel",[n.action]))()
showError(e){return this.triggerModal(a.default,{channel:e})}static#g=(()=>dt7948.n(this.prototype,"showError",[n.action]))()
refresh(){this.send("refreshProvider")}static#m=(()=>dt7948.n(this.prototype,"refresh",[n.action]))()}e.default=s})),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat-integration",["exports","@ember/controller"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{}e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/models/channel",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{updateProperties(){return this.getProperties(["data"])}createProperties(){return this.getProperties(["provider","data"])}}e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/models/provider",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{}e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/models/rule",["exports","@glimmer/tracking","discourse/models/category","discourse/models/rest","I18n"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends i.default{static#e=(()=>dt7948.g(this.prototype,"type",[t.tracked],(function(){return"normal"})))()
#_=(()=>{dt7948.i(this,"type")})()
static#n=(()=>dt7948.g(this.prototype,"category_id",[t.tracked],(function(){return null})))()
#f=(()=>{dt7948.i(this,"category_id")})()
static#a=(()=>dt7948.g(this.prototype,"tags",[t.tracked],(function(){return null})))()
#b=(()=>{dt7948.i(this,"tags")})()
static#s=(()=>dt7948.g(this.prototype,"channel_id",[t.tracked],(function(){return null})))()
#y=(()=>{dt7948.i(this,"channel_id")})()
static#d=(()=>dt7948.g(this.prototype,"filter",[t.tracked],(function(){return"watch"})))()
#v=(()=>{dt7948.i(this,"filter")})()
static#h=(()=>dt7948.g(this.prototype,"error_key",[t.tracked],(function(){return null})))()
#x=(()=>{dt7948.i(this,"error_key")})()
available_types=(()=>[{id:"normal",name:a.default.t("chat_integration.type.normal")},{id:"group_message",name:a.default.t("chat_integration.type.group_message")},{id:"group_mention",name:a.default.t("chat_integration.type.group_mention")}])()
get available_filters(){const e=[]
return"slack"===this.channel.provider&&e.push({id:"thread",name:a.default.t("chat_integration.filter.thread"),icon:"chevron-right"}),e.push({id:"watch",name:a.default.t("chat_integration.filter.watch"),icon:"exclamation-circle"},{id:"follow",name:a.default.t("chat_integration.filter.follow"),icon:"circle"},{id:"tag_added",name:a.default.t("chat_integration.filter.tag_added"),icon:"tag"},{id:"mute",name:a.default.t("chat_integration.filter.mute"),icon:"times-circle"}),e}get category(){const e=this.category_id
return!!e&&n.default.findById(e)}get filterName(){return a.default.t(`chat_integration.filter.${this.filter}`)}updateProperties(){return this.getProperties(["type","category_id","group_id","tags","filter"])}createProperties(){return this.getProperties(["type","channel_id","category_id","group_id","tags","filter"])}}e.default=r})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration-index",["exports","@ember/service","discourse/routes/discourse"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends n.default{static#e=(()=>dt7948.g(this.prototype,"router",[t.inject]))()
#k=(()=>{dt7948.i(this,"router")})()
afterModel(e){e.totalRows>0&&this.router.transitionTo("adminPlugins.chat-integration.provider",e.get("firstObject").name)}}e.default=i})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration-provider",["exports","@ember/object","discourse/models/group","discourse/routes/discourse"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a extends i.default{async model(e){const[t,i,a]=await Promise.all([this.store.findAll("channel",{provider:e.provider}),this.modelFor("admin-plugins-chat-integration").findBy("id",e.provider),n.default.findAll()])
return t.forEach((e=>{e.set("rules",e.rules.map((t=>((t=this.store.createRecord("rule",t)).set("channel",e),t))))})),{channels:t,provider:i,groups:a}}serialize(e){return{provider:e.provider.id}}refreshProvider(){this.refresh()}static#e=(()=>dt7948.n(this.prototype,"refreshProvider",[t.action]))()}e.default=a})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration",["exports","@ember/object","@ember/service","discourse/routes/discourse"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a extends i.default{static#e=(()=>dt7948.g(this.prototype,"router",[n.inject]))()
#k=(()=>{dt7948.i(this,"router")})()
model(){return this.store.findAll("provider")}showSettings(){this.router.transitionTo("adminSiteSettingsCategory","chat_integration")}static#n=(()=>dt7948.n(this.prototype,"showSettings",[t.action]))()}e.default=a})),define("discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration-provider",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"2kV3hs7m",block:'[[[41,[30,0,["anyErrors"]],[[[1,"  "],[10,0],[14,0,"error"],[12],[1,"\\n    "],[1,[28,[35,1],["exclamation-triangle"],null]],[1,"\\n    "],[10,1],[14,0,"error-message"],[12],[1,"\\n      "],[1,[28,[35,2],["chat_integration.channels_with_errors"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,0,["model","channels","content"]]],null]],null],null,[[[1,"  "],[8,[39,5],null,[["@channel","@provider","@refresh","@editChannel","@test","@createRule","@editRuleWithChannel","@showError"],[[30,1],[30,0,["model","provider"]],[30,0,["refresh"]],[30,0,["editChannel"]],[30,0,["testChannel"]],[30,0,["createRule"]],[30,0,["editRuleWithChannel"]],[30,0,["showError"]]]],null],[1,"\\n"]],[1]],null],[1,"\\n"],[10,0],[14,0,"table-footer"],[12],[1,"\\n  "],[10,0],[14,0,"pull-right"],[12],[1,"\\n    "],[8,[39,6],[[24,1,"create-channel"]],[["@action","@label","@icon"],[[28,[37,7],[[30,0,["createChannel"]],[30,0,["model","provider"]]],null],"chat_integration.create_channel","plus"]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["channel"],false,["if","d-icon","i18n","each","-track-array","channel-details","d-button","fn"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration-provider.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"LItss5E6",block:'[[[10,0],[14,1,"admin-plugin-chat"],[12],[1,"\\n  "],[10,0],[14,0,"admin-controls"],[12],[1,"\\n    "],[10,0],[14,0,"admin-controls-chat-providers"],[12],[1,"\\n      "],[10,"ul"],[14,0,"nav nav-pills"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,0,["model"]]],null]],null],null,[[[1,"          "],[8,[39,2],null,[["@route","@routeParam","@label"],["adminPlugins.chat-integration.provider",[30,1,["name"]],[28,[37,3],["chat_integration.provider.",[30,1,["name"]],".title"],null]]],null],[1,"\\n"]],[1]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[8,[39,4],[[24,0,"chat-integration-settings-button"]],[["@icon","@title","@label","@action"],["cog","chat_integration.settings","chat_integration.settings",[28,[37,5],["showSettings"],null]]],null],[1,"\\n  "],[13],[1,"\\n\\n"],[41,[51,[30,0,["model","totalRows"]]],[[[1,"    "],[1,[28,[35,7],["chat_integration.no_providers"],null]],[1,"\\n"]],[]],null],[1,"\\n  "],[46,[28,[37,9],null,null],null,null,null],[1,"\\n"],[13]],["provider"],false,["each","-track-array","nav-item","concat","d-button","route-action","unless","i18n","component","-outlet"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration.hbs",isStrictMode:!1})}))

//# sourceMappingURL=discourse-chat-integration_admin-3cc4d9abb13d9a7d5951e02870372b7f206f39bf15f1e7f363ed45454cc122cc.map
//!

;
